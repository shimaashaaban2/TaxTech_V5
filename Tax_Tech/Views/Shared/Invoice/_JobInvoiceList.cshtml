@using Tax_Tech.Helpers
@using PagedList
@using PagedList.Mvc

@model List<Tax_Tech.ViewModels.DocumentViewModel>

@{

    long JobID = Convert.ToInt64(ViewBag.JobID);

}

@*<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />*@

<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-responsive-xl table-bordered" id="thebasic-datatable">
    <thead>
        <tr>
            @if (Model != null && Model.Count != 0)
            {
                <th>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="all-checkBox" oninput="selectAll(event)">
                        <label class="custom-control-label" for="all-checkBox"></label>
                    </div>
                </th>
            }
            <th>@Tax_Tech.Resources.Resource.DocStatus</th>
            <th>@Tax_Tech.Resources.Resource.DocType</th>
            <th>@Tax_Tech.Resources.Resource.Details</th>
            <th>@Tax_Tech.Resources.Resource.ClientName</th> <!-- on hover show client details -->
            <th>@Tax_Tech.Resources.Resource.TaxPayerActiCode</th> <!-- on hover show code title -->
            <th>@Tax_Tech.Resources.Resource.NetTotal</th>
            <th>@Tax_Tech.Resources.Resource.TaxTotal</th>
            <th>@Tax_Tech.Resources.Resource.TotalAmount</th>
            @*<th>@Tax_Tech.Resources.Resource.Cancel</th>*@
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            if (Model.Count > 0)
            {
                foreach (var item in Model)
                {
                    <tr id="invoice-@item.DocumentID">
                        <td>
                            @if (item.ProcessStatusID != 8) { 
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" oninput="onItemSelect(event)" class="custom-control-input" id="checkBox-@item.DocumentID" data-id="@item.DocumentID">
                                    <label class="custom-control-label" for="checkBox-@item.DocumentID"></label>
                                </div>
                                }
                        </td>
                        <td>
                            @item.ProcessStatusTitle
                        </td>
                        <td>
                            @((InvoiceType)item.DocumentType)
                        </td>
                        <td>
                            <div><span style="color: #2196F3;">@Tax_Tech.Resources.Resource.InternalID</span>: @item.InternalID</div>
                            <div><span style="color: #2196F3;">@Tax_Tech.Resources.Resource.IssueDate</span>: @item.DateTimeIssued</div>
                        </td>

                        <td rel="tooltip" data-toggle="tooltip" data-placement="right" data-original-title="<div><div>@Tax_Tech.Resources.Resource.ID: @item.VendorID</div><div>@Tax_Tech.Resources.Resource.Name: @item.VendorName</div></div>">
                            <span>@item.VendorName</span>

                        </td>

                        <td rel="tooltip" data-placement="right" data-original-title="@item.ActivityEN">
                            <span>@item.ActivityCode</span>
                        </td>
                        <td>
                            <span>@(item.TotalAmount - item.TaxTotals)</span>
                        </td>
                        <td>
                            <span>@item.TaxTotals</span>
                        </td>
                        <td>
                            <span>@item.TotalAmount</span>
                        </td>
                        @*<td>
                            @if (item.ProcessStatusID != 8)
                            {
                                <div class="row">
                                    <div class="form-group col-md-12">
                                        <button class="btn btn-primary col-md-12" onclick="getCancelInvoicePopup('@JobID',@item.DocumentID)" type="submit">@Tax_Tech.Resources.Resource.Cancel</button>
                                    </div>
                                </div>
                            }

                        </td>*@
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="9">
                        <h5 class="text-center">@Tax_Tech.Resources.Resource.NoDataAvailable</h5>
                    </td>
                </tr>
            }
        }

    </tbody>
</table>


@*<div class="d-flex justify-content-center">
        <ul class="pagination">
            <li class="page-item">
                <a class="page-link" onclick="getMasterReportPaging(1,50)" href="javascript:void(0)">
                    @Tax_Tech.Resources.Resource.Previous
                </a>
            </li>
            @for (int i = 1; i <= totalPages; i++)
            {
                <li class="page-item @(i == pageNo ? "active" : "")">
                    <a class="page-link" onclick="getMasterReportPaging(@i,50)" href="javascript:void(0)">
                        @i
                    </a>
                </li>
            }
            <li class="page-item">
                <a class="page-link" onclick="getMasterReportPaging(@(pageNo < totalPages ? pageNo + 1 : totalPages),50)" href="javascript:void(0)">
                    @Tax_Tech.Resources.Resource.Next
                </a>
            </li>
        </ul>
    </div>*@
<script src="~/Scripts/Custom/Invoice.js"></script>

