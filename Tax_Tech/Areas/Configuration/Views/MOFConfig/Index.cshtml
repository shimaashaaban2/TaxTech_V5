@model Tax_Tech.Areas.Configuration.ViewModels.MOFConfigViewModel
@using Tax_Tech.Helpers;
@{
    ViewBag.Title = Tax_Tech.Resources.Resource.MOFConfig;
    int EntityID = Convert.ToInt16(Session["EntityID"]);
    SelectList EntitiesList = LookupsHelper.GetLookups().EntitiesList(EntityID);

}
<section>
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-md-12">
                    <div id="msg"></div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">

                    <div class="dt-action-buttons text-left d-flex">


                    </div>
                </div>

                <div class="card-body">
                    @using (Ajax.BeginForm("GetMOFConfig", new { controller = "MOFConfig", area = "Configuration" },
                        new AjaxOptions
                        {

                                    //UpdateTargetId = "mofConfig",
                                    HttpMethod = "POST",
                        OnBegin = "ShowLoading(1)",
                        OnComplete = "showMOFFormResult"

                        }, new { @class = "auth-login-form mt-2" }))
                    {
                        <button type="submit" class="hidden" id="subBtn-1"></button>

                        <div class="row">
                            <div class="form-group col-md-1">
                                <label class="control-label" for="EntityId">
                                    @Tax_Tech.Resources.Resource.Entity
                                    <span class="req">*</span>
                                </label>

                            </div>

                            <div class="form-group col-md-6">

                                @{ if (EntitiesList != null)
                                    {
                                        @Html.DropDownList("EntityId", LookupsHelper.GetLookups().EntitiesList(1) as SelectList, Tax_Tech.Resources.Resource.Entity,
                                         new
                                         {
                                             @class = "select2 form-control",
                                             @style = "width  100%;",
                                             @tabindex = "3",
                                             @onchange = "submitForm()"
                                         })
                                    }
                                    else
                                    {
                                        <h5 class="text-danger">@Tax_Tech.Resources.Resource.ApiDown</h5>
                                    }}
                            </div>
                        </div>
                    }
                </div>

            </div>

            <div id="ContainerDiv">
                @Html.Partial("~/Areas/Configuration/Views/Shared/MOFConfig/_MOFConfig.cshtml", Model)
            </div>
        </div>
    </div>
</section>
<script src="~/Areas/Configuration/Scripts/Custom/PublicConfig.js"></script>
<script src="~/Areas/Configuration/Scripts/Custom/MOF.js"></script>